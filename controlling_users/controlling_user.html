<!DOCTYPE html>
<html lang="en" ng-app='app'>
<head>
    <title>Controlling Users</title>
    <link rel="stylesheet" href="main.css">
    <!-- bower and install angular -->
    <script src="bower_components/angular/angular.js" charset="utf-8"></script>
    <script>
        var app = angular.module('app', []);
        app.controller('usersController', ['$scope', function ($scope) {

            $scope.createUser = function () {
                $scope.users.push($scope.user);
                $scope.user = {};

            }

            $scope.deleteUser = function(userToDelete){
                $scope.users = $scope.users.filter( function(user){
                    return user !== userToDelete;
                })
            }
            $scope.users = [
                {
                    firstName: "ali",
                    lastName: "sooo",
                    language: "python"
                },
            ];

        }]);
    </script>
</head>
<body>
<!--add another user-->
<div ng-controller="usersController">
    <h1>Controlling Users</h1>
    <form ng-submit="createUser()">
        <input type="text" ng-model="user.firstName" placeholder="First Name">
        <input type="text" ng-model="user.lastName" placeholder="Last Name">
        <input type="text" ng-model="user.language" placeholder="Favorite Language">
        <input type="submit" value="add user">
    </form>
    <table>
        <thead>
        <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Favorite Language</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat = 'user in users'>
            <td>{{user.firstName}}</td>
            <td>{{user.lastName}}</td>
            <td>{{user.language}}</td>
            <td><button ng-click="deleteUser(user)">Delete User</button> </td>
        </tr>
        </tbody>
    </table>
</div>


</body>

</html>